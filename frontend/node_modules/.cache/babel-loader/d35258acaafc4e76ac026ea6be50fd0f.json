{"ast":null,"code":"import _objectSpread from\"C:/Users/TSHOG/Desktop/todo/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/TSHOG/Desktop/todo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/TSHOG/Desktop/todo/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/TSHOG/Desktop/todo/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/TSHOG/Desktop/todo/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/TSHOG/Desktop/todo/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";// import logo from './logo.svg';\nimport'./App.css';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={todoList:[],activeItem:{id:null,title:'',complete:false},editing:false};_this.fetchTasks=_this.fetchTasks.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.startEdit=_this.startEdit.bind(_assertThisInitialized(_this));_this.deleteItem=_this.deleteItem.bind(_assertThisInitialized(_this));_this.completeItem=_this.completeItem.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchTasks();}},{key:\"fetchTasks\",value:function fetchTasks(){var _this2=this;console.log('Fetching...');fetch('http://127.0.0.1:8000/api/task-list/').then(function(Response){return Response.json();})// .then(data=>console.log(data))\n.then(function(data){return _this2.setState({todoList:data});});}},{key:\"handleChange\",value:function handleChange(e){var name=e.target.name;var value=e.target.value;console.log('Name:',name);console.log('Value:',value);this.setState({activeItem:_objectSpread(_objectSpread({},this.state.activeItem),{},{title:value})});}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this3=this;e.preventDefault();console.log('ITEM:',this.state.activeItem);var url='http://127.0.0.1:8000/api/task-create/';if(this.state.editing===true){url=\"http://127.0.0.1:8000/api/task-update/\".concat(this.state.activeItem.id,\"/\");this.setState({editing:false});}fetch(url,{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(this.state.activeItem)}).then(function(Response){_this3.fetchTasks();// fetch again for the new submition\n_this3.setState({// clear the input box\nactiveItem:{id:null,title:'',complete:false}});}).catch(function(error){console.log('ERROR:',error);});}},{key:\"startEdit\",value:function startEdit(task){this.setState({activeItem:task,editing:true});}},{key:\"deleteItem\",value:function deleteItem(task){var _this4=this;fetch(\"http://127.0.0.1:8000/api/task-delete/\".concat(task.id,\"/\"),{method:'DELETE',headers:{'Content-type':'application/json'}}).then(function(Response){_this4.fetchTasks();});}},{key:\"completeItem\",value:function completeItem(task){var _this5=this;task.completed=!task.completed;fetch(\"http://127.0.0.1:8000/api/task-update/\".concat(task.id,\"/\"),{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify({'completed':task.completed,'title':task.title})}).then(function(Response){_this5.fetchTasks();});}},{key:\"render\",value:function render(){var tasks=this.state.todoList;var self=this;// allow loop this.startEdit to self.startEdit\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"task-container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"form-wrapper\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:this.handleSubmit,id:\"form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:6},children:/*#__PURE__*/_jsx(\"input\",{onChange:this.handleChange,className:\"form-control\",id:\"title\",value:this.state.activeItem.title,type:\"text\",name:\"title\",placeholder:\"Add new task here\"})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"input\",{id:\"submit\",className:\"btn btn-warpping\",type:\"submit\",name:\"Add\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{id:\"list-wrapper\",children:tasks.map(function(task,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"task-wrapper flex-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return self.completeItem(task);},style:{flex:7},children:task.completed===false?/*#__PURE__*/_jsx(\"span\",{children:task.title}):/*#__PURE__*/_jsx(\"strike\",{children:task.title})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return self.startEdit(task);},className:\"btn btn-sm btn-outline-info\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return self.deleteItem(task);},className:\"btn btn-sm btn-outline-dark delete\",children:\"-\"})})]},index);})})]})});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","App","props","state","todoList","activeItem","id","title","complete","editing","fetchTasks","bind","handleChange","handleSubmit","startEdit","deleteItem","completeItem","console","log","fetch","then","Response","json","data","setState","e","name","target","value","preventDefault","url","method","headers","body","JSON","stringify","catch","error","task","completed","tasks","self","flex","map","index","Component"],"sources":["C:/Users/TSHOG/Desktop/todo/frontend/src/App.js"],"sourcesContent":["// import logo from './logo.svg';\nimport './App.css';\nimport React from 'react';\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      todoList:[],\n      activeItem:{\n        id:null,\n        title:'',\n        complete:false,\n      },\n      editing:false,\n    }\n\n    this.fetchTasks = this.fetchTasks.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.startEdit = this.startEdit.bind(this)\n    this.deleteItem = this.deleteItem.bind(this)\n    this.completeItem = this.completeItem.bind(this)\n  };\n\n  componentDidMount(){\n    this.fetchTasks()\n  }\n\n  fetchTasks(){\n    console.log('Fetching...')\n\n    fetch('http://127.0.0.1:8000/api/task-list/')\n    .then(Response => Response.json())\n    // .then(data=>console.log(data))\n    .then(data =>\n      this.setState({\n        todoList:data\n      })\n      )\n  }\n\n  handleChange(e){\n    var name = e.target.name\n    var value = e.target.value\n    console.log('Name:', name)\n    console.log('Value:', value)\n\n    this.setState({\n      activeItem:{\n        ...this.state.activeItem,\n        title:value\n      }\n    })\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n    console.log('ITEM:', this.state.activeItem);\n\n    var url = 'http://127.0.0.1:8000/api/task-create/'\n\n    if(this.state.editing === true){\n      url = `http://127.0.0.1:8000/api/task-update/${this.state.activeItem.id}/`\n      this.setState({\n        editing:false\n      })\n    }\n\n    fetch(url, {\n      method:'POST',\n      headers:{\n        'Content-type':'application/json',\n      },\n      body:JSON.stringify(this.state.activeItem)\n    }).then((Response) => {\n      this.fetchTasks()  // fetch again for the new submition\n      this.setState({  // clear the input box\n        activeItem:{\n          id:null,\n          title:'',\n          complete:false,\n        }\n      })\n    }).catch(function(error){\n      console.log('ERROR:', error)\n    })\n  }\n\n  startEdit(task){\n    this.setState({\n      activeItem:task,\n      editing:true,\n    })\n  }\n\n  deleteItem(task){\n    fetch(`http://127.0.0.1:8000/api/task-delete/${task.id}/`, {\n      method:'DELETE',\n      headers:{\n        'Content-type':'application/json',\n      },\n    }).then((Response) => {\n      this.fetchTasks()\n    })\n  }\n\n  completeItem(task){\n    task.completed = !task.completed\n    fetch(`http://127.0.0.1:8000/api/task-update/${task.id}/`, {\n      method:'POST',\n      headers:{\n        'Content-type':'application/json',\n      },\n      body:JSON.stringify({'completed':task.completed, 'title':task.title}),\n    }).then((Response) => {\n      this.fetchTasks()\n    })\n  }\n\n  render(){\n    var tasks = this.state.todoList\n    var self = this  // allow loop this.startEdit to self.startEdit\n\n    return(\n      <div className='container'>\n\n        <div id='task-container'>\n\n          <div id='form-wrapper'>\n            <form onSubmit={this.handleSubmit} id='form'>\n              <div className='flex-wrapper'>\n                <div style={{flex: 6}}>\n                  <input onChange={this.handleChange} className='form-control' id='title' value={this.state.activeItem.title} type=\"text\" name=\"title\" placeholder='Add new task here' />\n                </div>\n                <div style={{flex: 1}}>\n                  <input id='submit' className='btn btn-warpping' type=\"submit\" name=\"Add\" />\n                </div>\n              </div>\n            </form>\n          </div>\n\n          <div id='list-wrapper'>\n            {tasks.map(function(task, index){\n              return(\n                <div key={index} className=\"task-wrapper flex-wrapper\">\n                  \n                  <div onClick={() => self.completeItem(task)} style={{flex:7}}>\n                    {task.completed === false ? (\n                      <span>{task.title}</span>\n                    ) : (\n                      <strike>{task.title}</strike>\n                    )}\n                  </div>\n\n                  <div style={{flex:1}}>\n                    <button onClick={() => self.startEdit(task)} className=\"btn btn-sm btn-outline-info\">Edit</button>\n                  </div>\n\n                  <div style={{flex:1}}>\n                    <button onClick={() => self.deleteItem(task)} className=\"btn btn-sm btn-outline-dark delete\">-</button>\n                  </div>\n\n                </div>\n              )\n            })}\n          </div>\n\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}